<%- include('../partials/header') %>
  <div class="payment-page">
    <h2>Car Rental Payment</h2>

    <div class="vehicle-summary">
      <img src="<%= vehicle.imageUrl %>" alt="<%= vehicle.make + ' ' + vehicle.model %>">
      <h3><%= vehicle.make %> <%= vehicle.model %></h3>
      <p><%= vehicle.type %> • <%= vehicle.year %> • <%= vehicle.seats %> seats • <%= vehicle.mpg %></p>
      <p><strong>$<%= vehicle.pricePerDay %>/day</strong></p>
    </div>

    <form action="/rentals/confirm" method="POST">
      <input type="hidden" name="vehicleId" value="<%= vehicle._id %>" />
      
      <!-- Rental Dates Section -->
      <div class="form-group">
        <label for="startDate">Rental Start Date</label>
        <input type="text" name="startDate" id="startDate" placeholder="Select start date" required>
      </div>

      <div class="form-group">
        <label for="endDate">Rental End Date</label>
        <input type="text" name="endDate" id="endDate" placeholder="Select end date" required>
      </div>

      <!-- Payment Information Section -->
      <div class="form-group">
        <label for="cardNum">Card Number</label>
        <input type="text" name="cardNum" id="cardNum" maxlength="19" placeholder="1234 5678 9012 3456" required />
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="exp">Expiration Date</label>
          <input type="month" name="exp" id="exp" required />
        </div>
        <div class="form-group">
          <label for="cvc">CVC</label>
          <input type="text" name="cvc" id="cvc" maxlength="4" placeholder="123" required />
        </div>
      </div>

      <!-- Total Price Display -->
      <div id="totalPrice" style="margin: 1.5rem 0; font-weight: 600; color: #007BFF;"></div>

      <button type="submit">Complete Payment</button>
    </form>
  </div>
</main>
<script id="bookedRangesJSON" type="application/json">
  <%- JSON.stringify(bookedRanges) %>
</script>
<%- include('../partials/footer.ejs') %>
