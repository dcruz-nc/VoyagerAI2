<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Car Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸš—</text></svg>">
    <% if (typeof currentPage === 'undefined') { %>
        <title>VoyagerAI â€“ Smart Vehicle Matching</title>
    <% } else { %>
        <title>VoyagerAI - <%= toTitleCase(currentPage) %></title>
    <% } %>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <% if (typeof defaultStyles !== 'undefined' && defaultStyles) { %>
        <link rel="stylesheet" href="/css/style.css" />
    <% } %>

    <% if (currentPage === 'payment') { %>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <% } %>

    <% if (typeof extraStyles !== 'undefined' && extraStyles) { %>
        <link rel="stylesheet" href="<%= extraStyles %>" />
    <% } %>

</head>

<body>
    <header class="hero">
        <nav class="navbar">
            <a href="/" class="brand">VoyagerAI</a>
            <ul class="nav-links">
                <li><a href="/" class="<%= currentPage === 'home' ? 'active' : '' %>">Home</a></li>
                <li><a href="/rentals/browse" class="<%= currentPage === 'browse' ? 'active' : '' %>">Browse Cars</a></li>
                <li><a href="/rentals" class="<%= currentPage === 'rentals' ? 'active' : '' %>">My Rentals</a></li>

                <%if(!user) {%>
                    <li><a href="/users/login" class="<%= currentPage === 'login' ? 'active' : '' %>">Login</a></li>
                    <li><a href="/users/signup" class="<%= currentPage === 'signup' ? 'active' : '' %>">Signup</a></li>
                <%} else {%>
                    <li><a href="/users/profile" class="<%= currentPage === 'profile' ? 'active' : '' %>">Profile</a></li>
                    <li><a href="/users/logout" class="<%= currentPage === 'logout' ? 'active' : '' %>">Logout</a></li>
                <%} %>
            </ul>
        </nav>
    </header>
<main>
      <%if(errorMessages.length >0) {
          errorMessages.forEach(message => { %>
              <div class="error"> <%=message%> </div>
          <%})
      }%>
      <%if(successMessages.length >0) {
          successMessages.forEach(message => { %>
              <div class="success"> <%=message%> </div>
          <%})
      }%>
      <%if(warningMessages && warningMessages.length >0) {
          warningMessages.forEach(message => { %>
              <div class="warning"> <%=message%> </div>
          <%})
      }%>
      <%if(loginRequiredMessages && loginRequiredMessages.length >0) {
          loginRequiredMessages.forEach(message => { %>
              <div class="error login-required"> <%=message%> </div>
          <%})
      }%>
      <%if(infoMessages && infoMessages.length >0) {
          infoMessages.forEach(message => { %>
              <div class="info"> <%=message%> </div>
          <%})
      }%>
